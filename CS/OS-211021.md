### 2021.10.21. TIL (Memory)


## 1. 메모리 할당 알고리즘 

- First Fit	

>: 메모리를 순차적으로 탐색하는 과정에서 프로세스가 적재될 수 있는 가용 공간 중에서 첫번째 분할에 할당하는 방식

<br>

- Best Fit	

>: 가용 공간 중에서 가장 크기가 비슷한 공간을 선택하여 프로세스를 적재하는 방식

>: 내부 단편화 최소

<br>

- Worst Fit 

>: 프로세스의 가용 공간들 중에서 가장 큰 공간에 할당하는 방식

<br>

- Next Fit	

>: 마지막으로 참조했던 메모리 공간에서부터 탐색을 시작해 공간을 찾아 프로세스를 적재하는 방식

<br>

---

## 2. 페이지 교체 알고리즘에 따른 페이지 폴트 방식

- FIFO (First-in, First-out 알고리즘)

>: 메모리에 올라온 지 가장 오래된 페이지부터 교체 

>: 큐에 의해 메모리의 모든 페이지 관리

>: 즉, 먼저 들어온 게 먼저 나간다.

>: 프레임 수가 적을수록 페이지 결함이 더 많이 일어난다. (반대로 프레임 수가 많아질수록 결함이 더 적게 일어난다)

<br>

- OPT (OPTimal page replacement 알고리즘)

>: 앞으로 가장 오랫동안 사용되지 않을 것으로 예측되는 페이지를 교체

>: 이를 위해서는 앞으로 사용할 페이지를 미리 알아야 한다.

<br>

- LRU (Least Recently Used 알고리즘)

>: 오랫동안 사용하지 않은 페이지를 선택하여 교체

>: 마지막으로 사용된 시간을 확인하여 선택 (지역성)

<br>

- LFU (Least Frequently Used)

>: 각 페이지 마다 참조 횟수에 대한 계수기가 있으며, 가장 작은 수를 가진 페이지를 교체


Q. LFU의 문제점은?

>: 참조될 가능성이 많음에도 불구하고 횟수에 의한 방법이므로 최근에 사용된 프로그램은 교체시킬 가능성이 있고, 해당 횟수를 증가시키므로 오버헤드발생

<br>

- MFU (Most Frequently Used)

>: 반대로 가장 많이 참조된 페이지를 교체

<br>

- NUR (Not Used Recently)

>: 최근에 사용하지 않은 페이지를 교체

>: 최근 사용 여부를 확인하기 위해 참조 비트와 변형 비트를 사용한다.

<br>

---

## 3. 외부 단편화, 내부 단편화

- 메모리 단편화란

>: 분할된 메모리에 프로세스를 할당, 반납 과정에서 사용되지 못하고 낭비되는 기억 장치가 발생하는 현상

>: 외부 단편화, 내부 단편화가 있다.

<br>

1. 외부 단편화

>: 할당된 크기가 프로세스 크기보다 작아서 사용 못하는 공간이 발생

>: 가변 분할 할당 방식, 세그먼테이션 기법 사용 시 발생

<br>

1.1 외부 단편화 해결 방안

>: 버디 메모리 할당

>: 통합, 압축


<br>


2. 내부 단편화

>: 분할된 공간에 프로세스를 적재한 후 남은 공간

>: 고정 분할 할당 방식 or 페이징 기법 사용시 발생

<br>

2.1 내부 단편화 해결 방안

>: Slab Allocator

>: 통합, 압축
