# 2021.08.06. TIL (Singleton Pattern)



### 1. Singleton Pattern

: 싱글톤 패턴은 딱 하나의 인스턴스만을 생성한 후 이를 사용하는 방식의 디자인 패턴이다.
: 본의 아니게 생성자를 여러 번 호출하더라도 최초 생성된 인스턴스만을 사용한다.


---


### Q. 그렇다면 이 Singleton Pattern을 왜 사용하는 것일까?

### -> Singleton Pattern의 장단점을 살펴보자
```
- 장점

 1. 생성되는 인스턴스가 딱 한 개이므로, 메모리 공간을 절약할 수 있다.

 2. 여러 번 자주 호출하게 되는 객체였다면, 매 번 생성하는 시간이 없어지므로 객체 로딩 시간이 줄어들게 된다.

 3. 싱글톤 패턴으로 생성된 인스턴스는 전역 변수처럼 사용된다. (다른 인스턴스들과 데이터 공유가 잘 이루어진다.)



- 단점

 1. 클래스 내부에서 객체를 직접 생성하기 때문에 객체 지향 설계 원칙인 DIP를 위배한다.

 2. 생성된 인스턴스가 다른 클래스의 인스턴스들과 많은 데이터를 공유할 경우 객체 지향 설계 원칙인 OCP를 위배한다.

 3. 또한, 많은 데이터들을 공유할 수 있는 부분때문에 멀티스레드 환경에서 스레드를 안전하게 구현하려면 동기화 처리를 해줘야 한다. (-> 동기화는 성능을 저하시키는 단점이 있다.)

```

---

### 2. Singleton Pattern의 활용

- 하드웨어 인터페이스 접근 : 하드웨어 기기를 사용 시 여러 사용자의 접근을 막는다. (교착상태 발생)

- 로거 (로그 파일 생성 클래스)

- 환경설정 파일

- 캐시


---

### 3. SOLID 원칙을 Singleton Pattern에 적용해보자
```
- Single Responsibility Principle (단일 책임 원칙)
 : 구현과 사용 책임이 하나의 클래스에 몰려있기 때문에 단일 책임 원칙을 위배

- Open-Close Principle (개방-폐쇄 원칙)
 : 클래스 내부에서 객체를 직접 생성하고 사용하고 있다. 싱글톤 기능의 확장으로 다른 객체를 사용할 경우 코드가 변경되어야 하므로 + 많은 데이터들을 공유하므로 개방-폐쇄 원칙을 위배

- Dependency Inversion Principle (의존성 역전 원칙)
 : 추상화에 의존하지 않고 직접 구현체와 결합하고 있으므로  의존성 역전 원칙 위배
```
